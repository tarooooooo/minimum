<canvas id="<%= target %>_chart"></canvas>
<script>
  $(document).on('turbolinks:load', function() {
    var ctx = document.getElementById("<%= target %>_chart");
    var myLineChart = new Chart(ctx, {
      type: 'line',
      data: {
        labels: [
          <%= month_ago(11) %>+"月",
          <%= month_ago(10) %>+"月",
          <%= month_ago(9) %>+"月",
          <%= month_ago(8) %>+"月",
          <%= month_ago(7) %>+"月",
          <%= month_ago(6) %>+"月",
          <%= month_ago(5) %>+"月",
          <%= month_ago(4) %>+"月",
          <%= month_ago(3) %>+"月",
          <%= month_ago(2) %>+"月",
          <%= month_ago(1) %>+"月(先月)",
          <%= Time.current.month %>+"月(今月)"],
        datasets: [
          {
            label: '購入アイテム数',
            data: [<%= items.purchase_date_11month_ago.count %>,
                   <%= items.purchase_date_10month_ago.count %>,
                   <%= items.purchase_date_9month_ago.count %>,
                   <%= items.purchase_date_8month_ago.count %>,
                   <%= items.purchase_date_7month_ago.count %>,
                   <%= items.purchase_date_6month_ago.count %>,
                   <%= items.purchase_date_5month_ago.count %>,
                   <%= items.purchase_date_4month_ago.count %>,
                   <%= items.purchase_date_3month_ago.count %>,
                   <%= items.purchase_date_2month_ago.count %>,
                   <%= items.purchase_date_1month_ago.count %>,
                   <%= items.purchase_date_thismonth.count %>],
            borderColor: "#2f5864",
            backgroundColor: "rgba(0,0,0,0)"
          }
        ],
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        scales: {
          yAxes: [{
            scaleLabel: {   // 軸ラベル
              fontsize: 10,
                    },
            ticks: {
              suggestedMax: 20,
              suggestedMin: 0,
              stepSize: 5,
              callback: function(value, index, values){
                return  value
              }
            }
          }]
        },
      }
    });
  });
</script>